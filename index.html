<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>微信页面</title>
  <title>Document</title>
  <link rel="stylesheet" href="css/home.css">
  <link rel="stylesheet" href="css/addressbook.css">
  <link rel="stylesheet" href="css/find.css">
  <link rel="stylesheet" href="css/mine.css">
  <link rel="stylesheet" href="css/bottomTabsPart.css">
  <link rel="stylesheet" href="css/chat.css">
  <link rel="stylesheet" href="css/fdInfo.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/font.css">

</head>

<body>
  <div class="home_container"></div>
  <div class="tabs">
    <div class="btn wechat_btn">
      <span class="iconfont">&#xe65d;</span>
      <span>微信</span>
    </div>
    <div class="btn addressBook_btn">
      <span class="iconfont">&#xe7d3;</span>
      <span>通讯录</a>
    </div>
    <div class="btn find_btn">
      <span class="iconfont">&#xe636;</span>
      <span>发现</span>
    </div>
    <div class="btn mine_btn router">
      <span class="iconfont">&#xe626;</span>
      <span>我</span>
    </div>
  </div>
  <script src="./js/Component.js"></script>
  <script>
    const config = {
      Home: {
        title: 'home',
        component: HomePage,
        page: null
      },
      AddressBook: {
        title: 'addressBook',
        component: AddressBookPage,
        page: null
      },
      Find: {
        title: 'find',
        component: FindPage,
        page: null
      },
      Mine: {
        title: 'mine',
        component: MinePage,
        page: null
      },
      ChatWindow: {
        title: 'chatWindow',
        component: ChatWindow,
        page: null
      },
      FdInfo: {
        title: 'fdInfo',
        component: FdInfoPage,
        page: null
      }
    }
    let homePage = new HomePage();
    let addressBookPage = new AddressBookPage();
    let findPage = new FindPage();
    let minePage = new MinePage()
    class Router {
      constructor() {
        this.routes = {},
          this.length = 0
      }

      go(page) {
        this.routes[this.length] = config[page];
        this.routes[this.length].page = new config[page].component;
        this.length++;
      }

      back() {
        this.routes[this.length - 1].page.destory();
        delete this.routes[this.length - 1];
        this.length--;
      }
    }

    let changePage = function () {
      document.querySelector('.wechat_btn').addEventListener('click', () => {
        for (let i = 0; i < document.querySelector('.home_container').childNodes.length; i++) {
          document.querySelector('.home_container').childNodes[i].style.display = 'none';
          document.querySelector('.home_container').childNodes[0].style.display = 'block';
        }
      }, false)
      document.querySelector('.addressBook_btn').addEventListener('click', () => {
        for (let i = 0; i < document.querySelector('.home_container').childNodes.length; i++) {
          document.querySelector('.home_container').childNodes[i].style.display = 'none';
          document.querySelector('.home_container').childNodes[1].style.display = 'block';
        }
      }, false)
      document.querySelector('.find_btn').addEventListener('click', () => {
        for (let i = 0; i < document.querySelector('.home_container').childNodes.length; i++) {
          document.querySelector('.home_container').childNodes[i].style.display = 'none';
          document.querySelector('.home_container').childNodes[2].style.display = 'block';
        }
      }, false)
      document.querySelector('.mine_btn').addEventListener('click', () => {
        for (let i = 0; i < document.querySelector('.home_container').childNodes.length; i++) {
          document.querySelector('.home_container').childNodes[i].style.display = 'none';
          document.querySelector('.home_container').childNodes[3].style.display = 'block';
        }
      }, false)
    };

    let router = new Router();
    changePage();

  </script>
</body>

</html>